{% extends '../layouts/default.html' %}
{% block content %}
<link href="/lib/iCheck/skins/flat/grey.css" rel="stylesheet">
<link href="/lib/iCheck/skins/flat/red.css" rel="stylesheet">
<link href="/lib/iCheck/skins/flat/green.css" rel="stylesheet">
<link href="/lib/iCheck/skins/flat/blue.css" rel="stylesheet">
<link href="/lib/iCheck/skins/flat/yellow.css" rel="stylesheet">
<link href="/lib/iCheck/skins/flat/purple.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="/lib/jquery-tags-input/jquery.tagsinput.css" />

<link rel="stylesheet" type="text/css" href="/lib/bootstrap-fileinput/fileinput.css" />
<style>.file-thumbnail-footer {display: none;}</style>

<style>
div.tagsinput span.tag {
    background: #65CEA7 !important;
    border-color: #65CEA7;
    color: #fff;
    border-radius: 15px;
    -webkit-border-radius: 15px;
    padding: 2px 10px;
}
</style>

<div tt-controller="app/goods/index" tt-init="initEdit">
    <!-- page heading start-->
    <div class="page-heading">
        <h3>
        商品管理
        </h3>
        <ul class="breadcrumb">
            <li>
                <a href="#">商品管理</a>
            </li>
            <li class="active"> 编辑商品 </li>
        </ul>
    </div>
    <!-- page heading end-->
    <!--body wrapper start-->
    <section class="wrapper">
        <div class="row">
            <div class="col-md-12">
                <section class="panel">
                    <header class="panel-heading">
                        编辑商品
                    </header>
                    <div class="panel-body">
                        <form class="form-horizontal" role="form">
                            <div class="form-group">
                                <label class="col-md-2 col-sm-2 control-label">商品名称</label>
                                <div class="col-md-6">
                                    <div class="iconic-input">
                                        <i class="fa fa-book"></i>
                                        <input type="text" class="form-control" placeholder="商品名称" tt-model="good.name">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-2 col-sm-2 control-label">商品品牌</label>
                                <div class="col-md-6">
                                    <div class="iconic-input">
                                        <i class="fa fa-home"></i>
                                        <input type="text" class="form-control" placeholder="商品品牌" tt-model="good.brand_name">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="col-md-2 col-sm-2 control-label">商品描述</label>
                                <div class="col-md-9">
                                    <div class="iconic-input">
                                        <textarea class="form-control" placeholder="商品描述" rows="5"  name="ckeditor-desc"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-2 col-sm-2 control-label">选择分类</label>
                                <div class="col-md-6"  id="catSelector">
                                    <input type="text" class="form-control" placeholder="选择分类" disabled>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class=" col-md-2 control-label">商品标签</label>
                                <div class="col-md-6">
                                    <input id="goodTags" type="text" class="tags" value=""/>
                                </div>
                            </div>
                            <div class="form-group last">
                                <label class="control-label col-md-2">商品图片</label>
                                <div class="col-md-6">
                                    <input id="goodImage" name="files" type="file">   
                                </div> 
                            </div>

                        <div class="form-group ">
                            <label class="control-label col-md-2">库存量</label>
                            <div class="col-md-6">
                                <div id="stockSpinner">
                                    <div class="input-group" style="width:150px;">
                                        <div class="spinner-buttons input-group-btn">
                                            <button type="button" class="btn spinner-up btn-primary">
                                            <i class="fa fa-plus"></i>
                                            </button>
                                        </div>
                                        <input type="text" class="spinner-input form-control" maxlength="9" tt-model="good.stock">
                                        <div class="spinner-buttons input-group-btn">
                                            <button type="button" class="btn spinner-down btn-warning">
                                            <i class="fa fa-minus"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group ">
                            <label class="control-label col-md-2">市场价</label>
                            <div class="col-md-2">
                                <div id="marketPriceSpinner">
                                    <div class="input-group" style="width:150px;">
                                        <div class="spinner-buttons input-group-btn">
                                            <button type="button" class="btn spinner-up btn-primary">
                                            <i class="fa fa-plus"></i>
                                            </button>
                                        </div>
                                        <input type="text" class="spinner-input form-control" maxlength="9" tt-model="good.market_price">
                                        <div class="spinner-buttons input-group-btn">
                                            <button type="button" class="btn spinner-down btn-warning">
                                            <i class="fa fa-minus"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                        <div class="form-group ">
                            <label class="control-label col-md-2">天天价</label>
                            <div class="col-md-2">
                                <div id="priceSpinner">
                                    <div class="input-group" style="width:150px;">
                                        <div class="spinner-buttons input-group-btn">
                                            <button type="button" class="btn spinner-up btn-primary">
                                            <i class="fa fa-plus"></i>
                                            </button>
                                        </div>
                                        <input type="text" class="spinner-input form-control" maxlength="9" tt-model="good.price">
                                        <div class="spinner-buttons input-group-btn">
                                            <button type="button" class="btn spinner-down btn-warning">
                                            <i class="fa fa-minus"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                        <div class="form-group">
                                <label class="col-md-2 col-sm-2 control-label">供应商信息</label>
                                <div class="col-md-6" id="storeSelector">
                                    <input type="text" class="form-control" placeholder="供应商信息"disabled>
                                    <!-- <select class="form-control m-bot15" tt-model="good.supplier_id">
                                        <option>长沙市湘华香烟批发商行</option>
                                        <option>长沙市湘华香烟批发商行</option>
                                        <option>长沙市湘华香烟批发商行</option>
                                        <option>长沙市湘华香烟批发商行</option>
                                    </select> -->
                                </div>
                                
                            </div>
                        
                        <div class="form-group">
                            <label class="col-md-2 col-sm-2 control-label"></label>
                            <div class="col-md-5">
                                <span class="btn btn-primary right" tt-click="updateGood">提交</span>
                            </div>
                        </div>
                    </form>
                </div>
            </section>
        </div>
    </div>
</section>
<!--body wrapper end-->
</div>
<!--footer section start-->
<!-- <script type="text/javascript" src="/lib/bootstrap-fileupload.min.js"></script> -->
<script>
    requirejs(['/js/common.js'], function (common) {
        requirejs(['modernizr', 'jquery', 'bootstrap', 'spinner','tagsInput', 'app/goods/index'],
            function(modernizr, $, bootstrap, spinner, tagsInput, goodController){
                $(function(){
                    $('#stockSpinner').spinner({value:10000, step: 100, min: 0, max: 99999});
                    $('#priceSpinner').spinner({value:10.00, step: 0.01, min: 0, max: 99999 , toFixed: 2});
                    $('#marketPriceSpinner').spinner({value:10.00, step: 0.01, min: 0, max: 99999, toFixed: 2});

                    // $('#goodTags').tagsInput({
                    //     width: 'auto',
                    //     defaultText: '添加标签',
                    //     onChange: function(elem, elem_tags)
                    //     {
                    //         var languages = ['php','ruby','javascript'];
                    //         $('.tag', elem_tags).each(function()
                    //         {
                    //             if($(this).text().search(new RegExp('\\b(' + languages.join('|') + ')\\b')) >= 0)
                    //                 $(this).css('background-color', 'yellow');
                    //         });
                    //     }
                    // });
                });
                goodController.initEdit();
        });
    });
</script>
{% endblock %}